<ion-header>
  <ion-navbar>
  <ion-title>{{titletab}}</ion-title>

    <ion-buttons start *ngIf="isNew">
        <button ion-button (click)="dismiss()">
            <ion-icon name="arrow-back"></ion-icon>
        </button>
    </ion-buttons>

  </ion-navbar>
</ion-header>

<ion-content padding class="registration">
<ion-list>
   <form [formGroup]="registerForm" (ngSubmit)="onSubmit(registerForm.value)">
      <ion-item>
          <ion-label>Title</ion-label>
          <ion-select [(ngModel)]="user.title" formControlName="title">
              <ion-option value="Mr" selected="true">Mr</ion-option>
              <ion-option value="Mrs">Mrs</ion-option>
              <ion-option value="Miss">Miss</ion-option>
          </ion-select>
      </ion-item>
      <p *ngIf="registerForm.get('title').errors && registerForm.get('title').touched" class="error-box">Title is required</p>

      <ion-item>
          <ion-label>First name</ion-label>
          <ion-input type="text" [(ngModel)]="user.firstname" formControlName="firstname"></ion-input>
      </ion-item>
      <p *ngIf="registerForm.get('firstname').errors && registerForm.get('firstname').touched" class="error-box">First Name is required</p>

      <ion-item>
          <ion-label>Last name</ion-label>
          <ion-input type="text" [(ngModel)]="user.lastname" formControlName="lastname"></ion-input>
      </ion-item>
      <p *ngIf="registerForm.get('lastname').errors && registerForm.get('lastname').touched" class="error-box">Last Name is required</p>

      <ion-item *ngIf="isNew">
          <ion-label>Email</ion-label>
          <ion-input type="email" [(ngModel)]="user.email" formControlName="email"></ion-input>
      </ion-item>
      <p *ngIf="registerForm.get('email').errors && registerForm.get('email').touched" class="error-box">Must be a valid email address</p>

      <ion-item>
          <ion-label>Role</ion-label>
          <ion-input type="text" [(ngModel)]="user.role" formControlName="role"></ion-input>
      </ion-item>

      <ion-item>
          <ion-label>Job Title</ion-label>
          <ion-input type="text" [(ngModel)]="user.job" formControlName="job"></ion-input>
      </ion-item>

      <ion-item>
          <ion-label>Organisation</ion-label>
          <ion-input type="text" [(ngModel)]="user.organisation" formControlName="organisation"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label>Department</ion-label>
        <ion-input type="text" [(ngModel)]="user.department" formControlName="department"></ion-input>
      </ion-item>

      <button ion-button color="red" type="submit" [disabled]="!registerForm.valid && isNew" block>Submit</button>
  </form>
</ion-list>

</ion-content>
